


ARM Macro Assembler    Page 1 


    1 00000000         #line   1                "asmmain.s"
    1 00000000                 PRESERVE8
    2 00000000                 AREA             MyCode, CODE, READONLY
    3 00000000                 EXPORT           asmmain
    4 00000000         
    5 00000000                 import           LPTMR_DRV_SetTimerPeriodUs
    6 00000000                 import           LPTMR_DRV_Start
    7 00000000                 import           ledToggle
    8 00000000                 import           floatToBCD
    9 00000000         
   10 00000000         
   11 00000000 00000020 
                       my_NVIC_value
                               EQU              0x00000020  ;69
   12 00000000 E000E100 
                       my_NVIC_addr
                               EQU              0xE000E100  ;0xE000E100
   13 00000000         
   14 00000000 40048038 
                       my_SIM_SCGC5
                               EQU              0x40048038
   15 00000000 00000800 
                       my_GPIOC_clken
                               EQU              0x00000800
   16 00000000         
   17 00000000 4004B000 
                       my_PORTC_PCR0
                               EQU              0x4004B000  ;which is base addr
                                                            ess here for PCR0 t
                                                            o PCR10
   18 00000000 00000014 
                       my_PORTC_PCR_value
                               EQU              0x0000014
   19 00000000         
   20 00000000 400FF094 
                       my_GPIOC_PDDR
                               EQU              0x400FF094
   21 00000000 000007FF 
                       my_GPIOC_PDDR_value
                               EQU              0x000007FF  ; set PTC10 to PTC0
                                                             as outputs
   22 00000000         
   23 00000000 4004803C 
                       my_SIM_SCGC6
                               EQU              0x4004803C
   24 00000000         
   25 00000000         
   26 00000000 40037110 
                       my_PIT_LDVAL1
                               EQU              0x40037110
   27 00000000 0000C350 
                       my_LDVAL1_value
                               EQU              0xC350      ; ------------FIND 
                                                            VALUE TO CONTROL LE
                                                            NGTH OF TIMER
   28 00000000 40037118 
                       my_PIT_TCTRL1
                               EQU              0x40037118
   29 00000000 4003711C 



ARM Macro Assembler    Page 2 


                       my_PIT_TFLG1
                               EQU              0x4003711C  ;value to reset fla
                                                            g
   30 00000000 40037000 
                       my_PIT_MCR
                               EQU              0x40037000  ;--------------addr
                                                            ess---IDK if its ri
                                                            ght number
   31 00000000         
   32 00000000         ;new stuff
   33 00000000 08C00000 
                       mySIM_SCGC6value
                               EQU              0x8C00000
   34 00000000 E000E104 
                       myNVIC_ISER1
                               EQU              0xE000E104
   35 00000000 02000000 
                       myNVIC_ISER1value
                               EQU              0x02000000  ; 0x02000000
   36 00000000 E000E108 
                       myNVIC_ISER2
                               EQU              0xE000E108
   37 00000000 00000100 
                       myNVIC_ISER2value
                               EQU              0x00000100
   38 00000000 4004802C 
                       mySIM_SCGC2
                               EQU              0x4004802C
   39 00000000 00001000 
                       mySIM_SCGC2value
                               EQU              0x00001000
   40 00000000 40048018 
                       mySIM_SOPT7
                               EQU              0x40048018
   41 00000000 00000000 
                       mySIM_SOPT7value
                               EQU              0x00000000
   42 00000000 4004901C 
                       myPORTA_PCR7
                               EQU              0x4004901C
   43 00000000 00000000 
                       myPORTA_PCR7value
                               EQU              0x00000000
   44 00000000 40036004 
                       myPDB0_MOD
                               EQU              0x40036004
   45 00000000 00001000 
                       myPDB0_MODmin
                               EQU              0x1000
   46 00000000 4003600C 
                       myPDB0_IDLY
                               EQU              0x4003600C
   47 00000000 00000000 
                       myPDB0_IDLYvalue
                               EQU              0x0
   48 00000000 40036010 
                       myPDB0_CH0C1
                               EQU              0x40036010
   49 00000000 00000101 



ARM Macro Assembler    Page 3 


                       myPDB0_CH0C1value
                               EQU              0x00000101
   50 00000000 40036014 
                       myPDB0_CH0S
                               EQU              0x40036014
   51 00000000 00000000 
                       myPDB0_CH0Svalue
                               EQU              0x0
   52 00000000 40036194 
                       myPDB0_PO0DLY
                               EQU              0x40036194
   53 00000000 01001000 
                       myPDB0_PO0DLYvalue
                               EQU              0x01001000
   54 00000000 40036190 
                       myPDB0_POEN
                               EQU              0x40036190
   55 00000000 00000001 
                       myPDB0_POENvalue
                               EQU              0x01
   56 00000000 40036000 
                       myPDB0_SC
                               EQU              0x40036000
   57 00000000 00000F83 
                       myPDB0_Scvalue
                               EQU              0x00000F83
   58 00000000 00010000 
                       myPDB0_SWTRG
                               EQU              0x00010000
   59 00000000 FFFFFFBF 
                       myPDB0_PDBIF
                               EQU              0xFFFFFFBF
   60 00000000 4003B008 
                       myADC0_CFG1
                               EQU              0x4003B008
   61 00000000 0000007D 
                       myADC0_CFG1value
                               EQU              0x0000007D
   62 00000000 4003B00C 
                       myADC0_CFG2
                               EQU              0x4003B00C
   63 00000000 00000000 
                       myADC0_CFG2value
                               EQU              0x0
   64 00000000 4003B020 
                       myADC0_SC2
                               EQU              0x4003B020
   65 00000000 00000040 
                       myADC0_SC2value
                               EQU              0x00000040
   66 00000000 4003B024 
                       myADC0_SC3
                               EQU              0x4003B024
   67 00000000 0000000C 
                       myADC0_SC3value
                               EQU              0x0000000C
   68 00000000 4003B000 
                       myADC0_SC1A
                               EQU              0x4003B000



ARM Macro Assembler    Page 4 


   69 00000000 0000004A 
                       myADC0_SC1Avalue
                               EQU              0x0000004A
   70 00000000 4003B010 
                       myADC0_RA
                               EQU              0x4003B010
   71 00000000 400CC000 
                       myDAC0_DAT0L
                               EQU              0x400CC000
   72 00000000 400CC020 
                       myDAC0_SR
                               EQU              0x400CC020
   73 00000000         
   74 00000000         
   75 00000000         ;EXAMPLE: CONVERT ADC VALUE FOR DISPLAY
   76 00000000 0000014A 
                       vrange  EQU              330
   77 00000000 0000FFFF 
                       bindiv  EQU              0xFFFF
   78 00000000 0000000A 
                       ten     EQU              10
   79 00000000         
   80 00000000 401CCCCD 
                       FLOATNUM
                               EQU              0x401ccccd
   81 00000000         
   82 00000000         asmmain
   83 00000000         ;------Set PIT timer------------
   84 00000000 4A76            LDR              r2,=my_SIM_SCGC6 ; 0x4004803C
   85 00000002 F04F 610C       LDR              r1,=mySIM_SCGC6value 
                                                            ; 0x00800000
   86 00000006 6810            LDR              r0,[r2]
   87 00000008 EA40 0001       ORR              r0,r0,r1
   88 0000000C 6010            STR              r0,[r2]     ;enable clock to PI
                                                            T1
   89 0000000E 4A74            LDR              r2,=my_PIT_MCR
   90 00000010 F04F 0000       MOV              r0,#0
   91 00000014 6010            STR              r0,[r2]     ;enable the PIT mod
                                                            ule
   92 00000016 4A73            LDR              r2,=my_PIT_LDVAL1 ; 0x40037110
   93 00000018 F24C 3150       LDR              r1,=my_LDVAL1_value
   94 0000001C 6011            STR              r1,[r2]     ;load the count val
                                                            ue to generate inte
                                                            rrupt periodically
   95 0000001E 4A72            LDR              r2,=my_PIT_TCTRL1 ; 0x40037118
   96 00000020 F04F 0003       MOV              r0,#0x3
   97 00000024 6010            STR              r0,[r2]     ;set TIE and TEN bi
                                                            ts
   98 00000026         
   99 00000026         ADCInitialize
  100 00000026         
  101 00000026 4A6D            LDR              r2,=my_SIM_SCGC6 ; 0x4004803C
  102 00000028 F04F 630C       LDR              r3,=mySIM_SCGC6value ; 0x084000
                                                            00, here we enable 
                                                            clock for PDB and A
                                                            DC0
  103 0000002C 6814            LDR              r4,[r2]
  104 0000002E EA44 0403       ORR              r4,r4,r3
  105 00000032 6014            STR              r4,[r2]



ARM Macro Assembler    Page 5 


  106 00000034         
  107 00000034 4A6D            LDR              r2,=mySIM_SCGC2 ; 0x4004802C
  108 00000036 F44F 5380       LDR              r3,=mySIM_SCGC2value ; 0x000010
                                                            00; enable clock fo
                                                            r DAC0
  109 0000003A 6814            LDR              r4,[r2]
  110 0000003C EA44 0403       ORR              r4,r4,r3
  111 00000040 6014            STR              r4,[r2]
  112 00000042         
  113 00000042 4A6B            LDR              r2,=mySIM_SOPT7 ; 0x40048018
  114 00000044 F04F 0300       LDR              r3,=mySIM_SOPT7value ; 0x000000
                                                            00, PDB selected fo
                                                            r triggering ADC0
  115 00000048 6013            STR              r3,[r2]
  116 0000004A         
  117 0000004A 4A6A            LDR              r2,=myPORTA_PCR7 ; 0x4004901C
  118 0000004C F04F 0300       LDR              r3,=myPORTA_PCR7value ; 0x00000
                                                            000, set as analog 
                                                            input
  119 00000050 6013            STR              r3,[r2]
  120 00000052 BF00            NOP
  121 00000054 BF00            NOP
  122 00000056         
  123 00000056         PDBConfig
  124 00000056 4A68            LDR              r2,=myPDB0_MOD ; 0x40036004
  125 00000058 F44F 5380       LDR              r3,=myPDB0_MODmin ; 0x1000
  126 0000005C 6013            STR              r3,[r2]
  127 0000005E 4A67            LDR              r2,=myPDB0_IDLY ; 0x4003600C
  128 00000060 F04F 0300       LDR              r3,=myPDB0_IDLYvalue ; 0x0
  129 00000064 6013            STR              r3,[r2]
  130 00000066 4A66            LDR              r2,=myPDB0_CH0C1 ; 0x40036010
  131 00000068 F240 1301       LDR              r3,=myPDB0_CH0C1value ; 0x00000
                                                            101, CH0 pretrigger
                                                             output is selected
                                                             and enabled
  132 0000006C 6013            STR              r3,[r2]
  133 0000006E 4A65            LDR              r2,=myPDB0_POEN ; 0x40036190
  134 00000070 F04F 0301       LDR              r3,=myPDB0_POENvalue ; 0x01, PD
                                                            B pulse out enabled
                                                            
  135 00000074 6013            STR              r3,[r2]
  136 00000076 4A64            LDR              r2,=myPDB0_PO0DLY ; 0x40036194
  137 00000078 4B64            LDR              r3,=myPDB0_PO0DLYvalue ; 0x0100
                                                            1000, sets pulse ou
                                                            tput to 1 after 0x1
                                                            00 pulses and to 0 
                                                            after 0x1000 pulses
                                                            
  138 0000007A 6013            STR              r3,[r2]
  139 0000007C 4A64            LDR              r2,=myPDB0_SC ; 0x40036000
  140 0000007E F640 7383       LDR              r3,=myPDB0_Scvalue ; 0x00000F83
                                                            , set prescaler to 
                                                            0 and MULT to 1
  141 00000082 6013            STR              r3,[r2]
  142 00000084         
  143 00000084         ADCConfig
  144 00000084 4A63            LDR              r2,=myADC0_CFG1 ; 0x4003B008
  145 00000086 F04F 037D       LDR              r3,=myADC0_CFG1value ; 0x000000
                                                            7D, divide ratio 8,



ARM Macro Assembler    Page 6 


                                                             long sample time, 
                                                            single ended 16bit,
                                                             bus_clock/2
  146 0000008A 6013            STR              r3,[r2]
  147 0000008C 4A62            LDR              r2,=myADC0_CFG2 ; 0x4003B00C
  148 0000008E F04F 0300       LDR              r3,=myADC0_CFG2value ; 0x0, ADx
                                                            xa channels are sel
                                                            ected, default long
                                                            est sample time
  149 00000092 6013            STR              r3,[r2]
  150 00000094 4A61            LDR              r2,=myADC0_SC2 ; 0x4003B020
  151 00000096 F04F 0340       LDR              r3,=myADC0_SC2value ; 0x0000004
                                                            0, set the hardware
                                                             trigger PDB
  152 0000009A 6013            STR              r3,[r2]
  153 0000009C 4A60            LDR              r2,=myADC0_SC3 ; 0x4003B024
  154 0000009E F04F 030C       LDR              r3,=myADC0_SC3value ; 0x0000000
                                                            C, Hardware average
                                                             function enabled w
                                                            ith continuous conv
                                                            ersion
  155 000000A2 6013            STR              r3,[r2]
  156 000000A4 4A5F            LDR              r2,=myADC0_SC1A ; 0x4003B000, n
                                                            eed to initiate the
                                                             ADC module before 
                                                            the PDB module, wri
                                                            ting ADC0_SC1A will
                                                             start the module
  157 000000A6 F04F 034A       LDR              r3,=myADC0_SC1Avalue ; 0x000000
                                                            4A, Interrupt enabl
                                                            ed, ADC10 selected 
                                                            as single ended, in
                                                            put from primary co
                                                            nnector B40 pin
  158 000000AA 6013            STR              r3,[r2]
  159 000000AC 4A58            LDR              r2,=myPDB0_SC ; 0x40036000
  160 000000AE F44F 3380       LDR              r3,=myPDB0_SWTRG ; 0x00010000, 
                                                            write bit 16 to sta
                                                            rt counting
  161 000000B2 6814            LDR              r4,[r2]
  162 000000B4 EA43 0304       ORR              r3,r3,r4
  163 000000B8 6013            STR              r3,[r2]     ;trigger the PDB0 c
                                                            hannel
  164 000000BA         
  165 000000BA         DACConfig                            ;(OUTPUT SIGNAL AT 
                                                            PRIMARY A32 PIN)
  166 000000BA 4A5B            LDR              r2,=myDAC0_DAT0L ; 0x400CC000
  167 000000BC F04F 0300       MOV              r3,#0x0
  168 000000C0 F802 3B01       STRB             r3,[r2],#1
  169 000000C4 7013            STRB             r3,[r2]     ; clear the DAT0 da
                                                            ta values
  170 000000C6 4A59            LDR              r2,=myDAC0_SR ; 0x400CC020
  171 000000C8 F802 3B01       STRB             r3,[r2],#1  ;clear flags in SR
  172 000000CC F802 3B01       STRB             r3,[r2],#1  ;clear C0
  173 000000D0 F802 3B01       STRB             r3,[r2],#1  ;clear C1
  174 000000D4 F04F 030F       MOV              r3,#0x0F
  175 000000D8 F802 3902       STRB             r3,[r2],#-2 ;initialize C2
  176 000000DC EA4F 1303       LSL              r3,r3,#4    ;set C0 values 
  177 000000E0 7013            STRB             r3,[r2]     ;start the DAC0, so



ARM Macro Assembler    Page 7 


                                                            ftware trigger, use
                                                             DACREF_2
  178 000000E2         
  179 000000E2         ISR_Enable
  180 000000E2 F04F 0220       LDR              r2,=my_NVIC_value ; 0x00000020 
                                                            sets IRQ 69
  181 000000E6 4952            LDR              r1,=my_NVIC_addr ; 0xE000E100
  182 000000E8 608A            STR              r2,[r1,#0x8]
  183 000000EA         NVICConfig
  184 000000EA         ;activate ADC0_IRQ57
  185 000000EA 4A52            LDR              r2,=myNVIC_ISER1 ; 0xE000E104
  186 000000EC F04F 7300       LDR              r3,=myNVIC_ISER1value ; 0x02000
                                                            000, sets bit 25 in
                                                             NVIC_ISER1for ADC0
                                                             interrupt IRQ#57
  187 000000F0 6814            LDR              r4,[r2]
  188 000000F2 EA44 0403       ORR              r4,r4,r3
  189 000000F6 6013            STR              r3,[r2]
  190 000000F8         ; activate PDB0_IRQ72
  191 000000F8 4A4F            LDR              r2,=myNVIC_ISER2 ; 0xE000E108
  192 000000FA F44F 7380       LDR              r3,=myNVIC_ISER2value ; 0x00000
                                                            100, set bit 8 in N
                                                            VIC_ISER2 for PDB0 
                                                            interrupt IRQ#72
  193 000000FE 6814            LDR              r4,[r2]
  194 00000100 EA43 0304       ORR              r3,r3,r4
  195 00000104 6013            STR              r3,[r2]
  196 00000106         
  197 00000106         while
  198 00000106 4B4D            LDR              r3,=currentCounter
  199 00000108 4C4D            LDR              r4,=irqcounter
  200 0000010A 6819            LDR              r1, [r3]
  201 0000010C 6822            LDR              r2, [r4]
  202 0000010E 4291            CMP              r1,r2
  203 00000110 D0F9            BEQ              while
  204 00000112 601A            STR              r2, [r3]
  205 00000114         ;BL floatBCD
  206 00000114 2900            CMP              r1, #0
  207 00000116 D0F6            BEQ              while
  208 00000118 B672            CPSID            i
  209 0000011A 2901            CMP              r1, #1
  210 0000011C D101            BNE              next1
  211 0000011E 4B49            LDR              r3, =num1
  212 00000120 6818            LDR              r0, [r3]
  213 00000122         next1
  214 00000122 2902            CMP              r1, #2
  215 00000124 D101            BNE              next2
  216 00000126 4B48            LDR              r3, =num2
  217 00000128 6818            LDR              r0, [r3]
  218 0000012A         next2
  219 0000012A 2903            CMP              r1, #3
  220 0000012C D101            BNE              next3
  221 0000012E 4B47            LDR              r3, =num3
  222 00000130 6818            LDR              r0, [r3]
  223 00000132         next3
  224 00000132 F7FF FFFE       BL               ledToggle
  225 00000136 B662            CPSIE            i
  226 00000138 E7E5            B                while
  227 0000013A         



ARM Macro Assembler    Page 8 


  228 0000013A         
  229 0000013A 0000013B 
                       PDB0_IRQHandler
                               EQU              asm_PDB0_irq+1
  230 0000013A                 EXPORT           PDB0_IRQHandler
  231 0000013A         
  232 0000013A         asm_PDB0_irq
  233 0000013A B500            PUSH             {lr}        ;store LR, to know 
                                                            how to return from 
                                                            irq
  234 0000013C B43C            PUSH             {r2-r5}
  235 0000013E 4A34            LDR              r2,=myPDB0_SC ; 0x40036000
  236 00000140 F06F 0340       LDR              r3,=myPDB0_PDBIF ; 0xFFFFFFBF t
                                                            o clear PDBIF
  237 00000144 6814            LDR              r4,[r2]
  238 00000146 EA04 0403       AND              r4,r4,r3
  239 0000014A 6014            STR              r4,[r2]
  240 0000014C 4A40            LDR              r2,=myPDB0_CH0S ; 0x40036014 
  241 0000014E F04F 0300       LDR              r3,=myPDB0_CH0Svalue ; 0x0
  242 00000152 6013            STR              r3,[r2]
  243 00000154 BC3C            POP              {r2-r5}
  244 00000156 BD00            POP              {pc}        ;return from interr
                                                            up
  245 00000158         
  246 00000158 00000159 
                       ADC0_IRQHandler
                               EQU              asm_ADC0_irq+1 ; the vector tab
                                                            le must contain odd
                                                             addresses for the 
                                                            Cortex processor
  247 00000158                 EXPORT           ADC0_IRQHandler
  248 00000158         
  249 00000158         asm_ADC0_irq
  250 00000158         ;COCO is set in ADC0_SC1A when the conversion is done
  251 00000158         ;this also triggers the interrupt
  252 00000158         ;see pp 826 in K60 Sub Family Reference Manual
  253 00000158 B672            CPSID            i
  254 0000015A B500            PUSH             {lr}        ;store LR, to know 
                                                            how to return from 
                                                            irq
  255 0000015C B43C            PUSH             {r2-r5}
  256 0000015E         ;next read the result register
  257 0000015E 4A3D            LDR              r2,=myADC0_RA ; 0x4003B010
  258 00000160 6810            LDR              r0,[r2]
  259 00000162         ;next transfer this value to DAC0
  260 00000162 EA4F 1310       MOV              r3,r0,LSR #4
  261 00000166 4A30            LDR              r2,=myDAC0_DAT0L ; 0x400CC000
  262 00000168 F802 3B01       STRB             r3,[r2],#1  ; should store the 
                                                            8 lsb bits to DAC0
  263 0000016C EA4F 2313       LSR              r3,r3,#8
  264 00000170 7013            STRB             r3,[r2]
  265 00000172 4A39            LDR              r2,=adc0counter
  266 00000174 6813            LDR              r3,[r2]
  267 00000176 F103 0301       ADD              r3,r3,#1
  268 0000017A F5B3 5F80       CMP              r3,#0x01000 ;I am waiting for 2
                                                            ^12 ADC 
  269 0000017E         
  270 0000017E         conversions
  271 0000017E D006            BEQ              next0



ARM Macro Assembler    Page 9 


  272 00000180 F842 3B04       STR              r3,[r2],#4
  273 00000184 6814            LDR              r4,[r2]
  274 00000186 4404            ADD              r4,r4,r0    ;make the sum for a
                                                            verage
  275 00000188 6014            STR              r4,[r2]
  276 0000018A F000 F80B       BL               outofdac0
  277 0000018E         
  278 0000018E         next0
  279 0000018E F04F 0301       MOV              r3,#0x1
  280 00000192 F842 3B04       STR              r3,[r2],#4
  281 00000196 6814            LDR              r4,[r2]
  282 00000198 EA4F 3414       LSR              r4,r4,#12   ;here I am dividing
                                                             by 2^12
  283 0000019C 6014            STR              r4,[r2]
  284 0000019E 4620            MOV              r0,r4
  285 000001A0 F000 F803       BL               adc0tovolts
  286 000001A4         
  287 000001A4         outofdac0
  288 000001A4 B662            CPSIE            i
  289 000001A6 BC3C            POP              {r2-r5}
  290 000001A8 BD00            POP              {pc}
  291 000001AA         
  292 000001AA         
  293 000001AA         adc0tovolts
  294 000001AA         
  295 000001AA 4926            LDR              r1, =num1
  296 000001AC 4A26            LDR              r2, =num2
  297 000001AE 4B27            LDR              r3, =num3
  298 000001B0 F7FF FFFE       BL               floatToBCD
  299 000001B4 E7F6            B                outofdac0
  300 000001B6         
  301 000001B6 000001B7 
                       PIT1_IRQHandler
                               EQU              asm_pit_irq+1
  302 000001B6                 EXPORT           PIT1_IRQHandler ;the vector tab
                                                            le must contain odd
                                                             addresses for the 
                                                            Cortex processor
  303 000001B6         
  304 000001B6         asm_pit_irq
  305 000001B6 B500            PUSH             {lr}        ;store LR
  306 000001B8 B43C            PUSH             {r2-r5}
  307 000001BA 4A2B            LDR              r2,=my_PIT_TFLG1 ; clear the IR
                                                            Q flag TIF 
  308 000001BC F04F 0301       MOV              r3,#0x01
  309 000001C0 6013            STR              r3,[r2]
  310 000001C2 4A1F            LDR              r2, =irqcounter ; increment the
                                                             irq counter
  311 000001C4 7813            LDRB             r3,[r2]
  312 000001C6 2B03            CMP              r3,#3
  313 000001C8 DA03            BGE              start_over
  314 000001CA F103 0301       ADD              r3,#1
  315 000001CE F000 F802       BL               update_int_cnt
  316 000001D2         start_over
  317 000001D2 F04F 0301       MOV              r3,#0x01    ;start from digit p
                                                            osition 1
  318 000001D6         update_int_cnt
  319 000001D6 7013            STRB             r3,[r2]
  320 000001D8 BC3C            POP              {r2-r5}



ARM Macro Assembler    Page 10 


  321 000001DA BD00            POP              {pc}
  322 000001DC         
  323 000001DC                 ALIGN
  324 000001DC 4004803C 
              40037000 
              40037110 
              40037118 
              4004802C 
              40048018 
              4004901C 
              40036004 
              4003600C 
              40036010 
              40036190 
              40036194 
              01001000 
              40036000 
              4003B008 
              4003B00C 
              4003B020 
              4003B024 
              4003B000 
              400CC000 
              400CC020 
              E000E100 
              E000E104 
              E000E108 
              00000000 
              00000000 
              00000000 
              00000000 
              00000000 
              40036014 
              4003B010 
              00000000 
              00000000 
              00000000 
              00000000 
              4003711C 
              00000000         AREA             stack1, DATA, READWRITE
  325 00000000 00000000 
                       irqcounter
                               DCD              0           ; increment the irq
                                                             count
  326 00000004 00000000 
                       currentCounter
                               DCD              0
  327 00000008 00000000 
                       num1    DCD              0
  328 0000000C 00000000 
                       num2    DCD              0
  329 00000010 00000000 
                       num3    DCD              0
  330 00000014 00000000 
                       adc0counter
                               DCD              0
  331 00000018 00000000 
              00000000 volts_value
                               DCD              0,0



ARM Macro Assembler    Page 11 


  332 00000020                 END
Command Line: --debug --xref --cpreproc --diag_suppress=9931,1609,1581 --cpu=Co
rtex-M4 --apcs=interwork --depend=.\objects\asmmain.d -o.\objects\asmmain.o -I"
C:\Freescale\KSDK_1.2.0\examples\twrk60d100m\engg3640f21lab\LAB5 Broken\RTE" -I
C:\Keil_v5\ARM\PACK\Keil\Kinetis_K60_DFP\1.5.0\Device\Include -IC:\Keil_v5\ARM\
CMSIS\Include --predefine="__UVISION_VERSION SETA 518" --predefine="MK60DN512xx
x10 SETA 1" --predefine="DEBUG SETA 1" --list=.\listings\asmmain.lst asmmain.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

ADC0_IRQHandler 00000159

Symbol: ADC0_IRQHandler
   Definitions
      At line 246 in file asmmain.s
   Uses
      At line 247 in file asmmain.s
Comment: ADC0_IRQHandler used once
ADCConfig 00000084

Symbol: ADCConfig
   Definitions
      At line 143 in file asmmain.s
   Uses
      None
Comment: ADCConfig unused
ADCInitialize 00000026

Symbol: ADCInitialize
   Definitions
      At line 99 in file asmmain.s
   Uses
      None
Comment: ADCInitialize unused
DACConfig 000000BA

Symbol: DACConfig
   Definitions
      At line 165 in file asmmain.s
   Uses
      None
Comment: DACConfig unused
ISR_Enable 000000E2

Symbol: ISR_Enable
   Definitions
      At line 179 in file asmmain.s
   Uses
      None
Comment: ISR_Enable unused
MyCode 00000000

Symbol: MyCode
   Definitions
      At line 2 in file asmmain.s
   Uses
      None
Comment: MyCode unused
NVICConfig 000000EA

Symbol: NVICConfig
   Definitions
      At line 183 in file asmmain.s
   Uses
      None
Comment: NVICConfig unused
PDB0_IRQHandler 0000013B

Symbol: PDB0_IRQHandler



ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Relocatable symbols

   Definitions
      At line 229 in file asmmain.s
   Uses
      At line 230 in file asmmain.s
Comment: PDB0_IRQHandler used once
PDBConfig 00000056

Symbol: PDBConfig
   Definitions
      At line 123 in file asmmain.s
   Uses
      None
Comment: PDBConfig unused
PIT1_IRQHandler 000001B7

Symbol: PIT1_IRQHandler
   Definitions
      At line 301 in file asmmain.s
   Uses
      At line 302 in file asmmain.s
Comment: PIT1_IRQHandler used once
adc0tovolts 000001AA

Symbol: adc0tovolts
   Definitions
      At line 293 in file asmmain.s
   Uses
      At line 285 in file asmmain.s
Comment: adc0tovolts used once
asm_ADC0_irq 00000158

Symbol: asm_ADC0_irq
   Definitions
      At line 249 in file asmmain.s
   Uses
      At line 246 in file asmmain.s
Comment: asm_ADC0_irq used once
asm_PDB0_irq 0000013A

Symbol: asm_PDB0_irq
   Definitions
      At line 232 in file asmmain.s
   Uses
      At line 229 in file asmmain.s
Comment: asm_PDB0_irq used once
asm_pit_irq 000001B6

Symbol: asm_pit_irq
   Definitions
      At line 304 in file asmmain.s
   Uses
      At line 301 in file asmmain.s
Comment: asm_pit_irq used once
asmmain 00000000

Symbol: asmmain
   Definitions
      At line 82 in file asmmain.s
   Uses



ARM Macro Assembler    Page 3 Alphabetic symbol ordering
Relocatable symbols

      At line 3 in file asmmain.s
Comment: asmmain used once
conversions 0000017E

Symbol: conversions
   Definitions
      At line 270 in file asmmain.s
   Uses
      None
Comment: conversions unused
next0 0000018E

Symbol: next0
   Definitions
      At line 278 in file asmmain.s
   Uses
      At line 271 in file asmmain.s
Comment: next0 used once
next1 00000122

Symbol: next1
   Definitions
      At line 213 in file asmmain.s
   Uses
      At line 210 in file asmmain.s
Comment: next1 used once
next2 0000012A

Symbol: next2
   Definitions
      At line 218 in file asmmain.s
   Uses
      At line 215 in file asmmain.s
Comment: next2 used once
next3 00000132

Symbol: next3
   Definitions
      At line 223 in file asmmain.s
   Uses
      At line 220 in file asmmain.s
Comment: next3 used once
outofdac0 000001A4

Symbol: outofdac0
   Definitions
      At line 287 in file asmmain.s
   Uses
      At line 276 in file asmmain.s
      At line 299 in file asmmain.s

start_over 000001D2

Symbol: start_over
   Definitions
      At line 316 in file asmmain.s
   Uses
      At line 313 in file asmmain.s
Comment: start_over used once



ARM Macro Assembler    Page 4 Alphabetic symbol ordering
Relocatable symbols

update_int_cnt 000001D6

Symbol: update_int_cnt
   Definitions
      At line 318 in file asmmain.s
   Uses
      At line 315 in file asmmain.s
Comment: update_int_cnt used once
while 00000106

Symbol: while
   Definitions
      At line 197 in file asmmain.s
   Uses
      At line 203 in file asmmain.s
      At line 207 in file asmmain.s
      At line 226 in file asmmain.s

24 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

adc0counter 00000014

Symbol: adc0counter
   Definitions
      At line 330 in file asmmain.s
   Uses
      At line 265 in file asmmain.s
Comment: adc0counter used once
currentCounter 00000004

Symbol: currentCounter
   Definitions
      At line 326 in file asmmain.s
   Uses
      At line 198 in file asmmain.s
Comment: currentCounter used once
irqcounter 00000000

Symbol: irqcounter
   Definitions
      At line 325 in file asmmain.s
   Uses
      At line 199 in file asmmain.s
      At line 310 in file asmmain.s

num1 00000008

Symbol: num1
   Definitions
      At line 327 in file asmmain.s
   Uses
      At line 211 in file asmmain.s
      At line 295 in file asmmain.s

num2 0000000C

Symbol: num2
   Definitions
      At line 328 in file asmmain.s
   Uses
      At line 216 in file asmmain.s
      At line 296 in file asmmain.s

num3 00000010

Symbol: num3
   Definitions
      At line 329 in file asmmain.s
   Uses
      At line 221 in file asmmain.s
      At line 297 in file asmmain.s

stack1 00000000

Symbol: stack1
   Definitions
      At line 324 in file asmmain.s
   Uses
      None



ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Relocatable symbols

Comment: stack1 unused
volts_value 00000018

Symbol: volts_value
   Definitions
      At line 331 in file asmmain.s
   Uses
      None
Comment: volts_value unused
8 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Absolute symbols

FLOATNUM 401CCCCD

Symbol: FLOATNUM
   Definitions
      At line 80 in file asmmain.s
   Uses
      None
Comment: FLOATNUM unused
bindiv 0000FFFF

Symbol: bindiv
   Definitions
      At line 77 in file asmmain.s
   Uses
      None
Comment: bindiv unused
myADC0_CFG1 4003B008

Symbol: myADC0_CFG1
   Definitions
      At line 60 in file asmmain.s
   Uses
      At line 144 in file asmmain.s
Comment: myADC0_CFG1 used once
myADC0_CFG1value 0000007D

Symbol: myADC0_CFG1value
   Definitions
      At line 61 in file asmmain.s
   Uses
      At line 145 in file asmmain.s
Comment: myADC0_CFG1value used once
myADC0_CFG2 4003B00C

Symbol: myADC0_CFG2
   Definitions
      At line 62 in file asmmain.s
   Uses
      At line 147 in file asmmain.s
Comment: myADC0_CFG2 used once
myADC0_CFG2value 00000000

Symbol: myADC0_CFG2value
   Definitions
      At line 63 in file asmmain.s
   Uses
      At line 148 in file asmmain.s
Comment: myADC0_CFG2value used once
myADC0_RA 4003B010

Symbol: myADC0_RA
   Definitions
      At line 70 in file asmmain.s
   Uses
      At line 257 in file asmmain.s
Comment: myADC0_RA used once
myADC0_SC1A 4003B000

Symbol: myADC0_SC1A



ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Absolute symbols

   Definitions
      At line 68 in file asmmain.s
   Uses
      At line 156 in file asmmain.s
Comment: myADC0_SC1A used once
myADC0_SC1Avalue 0000004A

Symbol: myADC0_SC1Avalue
   Definitions
      At line 69 in file asmmain.s
   Uses
      At line 157 in file asmmain.s
Comment: myADC0_SC1Avalue used once
myADC0_SC2 4003B020

Symbol: myADC0_SC2
   Definitions
      At line 64 in file asmmain.s
   Uses
      At line 150 in file asmmain.s
Comment: myADC0_SC2 used once
myADC0_SC2value 00000040

Symbol: myADC0_SC2value
   Definitions
      At line 65 in file asmmain.s
   Uses
      At line 151 in file asmmain.s
Comment: myADC0_SC2value used once
myADC0_SC3 4003B024

Symbol: myADC0_SC3
   Definitions
      At line 66 in file asmmain.s
   Uses
      At line 153 in file asmmain.s
Comment: myADC0_SC3 used once
myADC0_SC3value 0000000C

Symbol: myADC0_SC3value
   Definitions
      At line 67 in file asmmain.s
   Uses
      At line 154 in file asmmain.s
Comment: myADC0_SC3value used once
myDAC0_DAT0L 400CC000

Symbol: myDAC0_DAT0L
   Definitions
      At line 71 in file asmmain.s
   Uses
      At line 166 in file asmmain.s
      At line 261 in file asmmain.s

myDAC0_SR 400CC020

Symbol: myDAC0_SR
   Definitions
      At line 72 in file asmmain.s



ARM Macro Assembler    Page 3 Alphabetic symbol ordering
Absolute symbols

   Uses
      At line 170 in file asmmain.s
Comment: myDAC0_SR used once
myNVIC_ISER1 E000E104

Symbol: myNVIC_ISER1
   Definitions
      At line 34 in file asmmain.s
   Uses
      At line 185 in file asmmain.s
Comment: myNVIC_ISER1 used once
myNVIC_ISER1value 02000000

Symbol: myNVIC_ISER1value
   Definitions
      At line 35 in file asmmain.s
   Uses
      At line 186 in file asmmain.s
Comment: myNVIC_ISER1value used once
myNVIC_ISER2 E000E108

Symbol: myNVIC_ISER2
   Definitions
      At line 36 in file asmmain.s
   Uses
      At line 191 in file asmmain.s
Comment: myNVIC_ISER2 used once
myNVIC_ISER2value 00000100

Symbol: myNVIC_ISER2value
   Definitions
      At line 37 in file asmmain.s
   Uses
      At line 192 in file asmmain.s
Comment: myNVIC_ISER2value used once
myPDB0_CH0C1 40036010

Symbol: myPDB0_CH0C1
   Definitions
      At line 48 in file asmmain.s
   Uses
      At line 130 in file asmmain.s
Comment: myPDB0_CH0C1 used once
myPDB0_CH0C1value 00000101

Symbol: myPDB0_CH0C1value
   Definitions
      At line 49 in file asmmain.s
   Uses
      At line 131 in file asmmain.s
Comment: myPDB0_CH0C1value used once
myPDB0_CH0S 40036014

Symbol: myPDB0_CH0S
   Definitions
      At line 50 in file asmmain.s
   Uses
      At line 240 in file asmmain.s
Comment: myPDB0_CH0S used once



ARM Macro Assembler    Page 4 Alphabetic symbol ordering
Absolute symbols

myPDB0_CH0Svalue 00000000

Symbol: myPDB0_CH0Svalue
   Definitions
      At line 51 in file asmmain.s
   Uses
      At line 241 in file asmmain.s
Comment: myPDB0_CH0Svalue used once
myPDB0_IDLY 4003600C

Symbol: myPDB0_IDLY
   Definitions
      At line 46 in file asmmain.s
   Uses
      At line 127 in file asmmain.s
Comment: myPDB0_IDLY used once
myPDB0_IDLYvalue 00000000

Symbol: myPDB0_IDLYvalue
   Definitions
      At line 47 in file asmmain.s
   Uses
      At line 128 in file asmmain.s
Comment: myPDB0_IDLYvalue used once
myPDB0_MOD 40036004

Symbol: myPDB0_MOD
   Definitions
      At line 44 in file asmmain.s
   Uses
      At line 124 in file asmmain.s
Comment: myPDB0_MOD used once
myPDB0_MODmin 00001000

Symbol: myPDB0_MODmin
   Definitions
      At line 45 in file asmmain.s
   Uses
      At line 125 in file asmmain.s
Comment: myPDB0_MODmin used once
myPDB0_PDBIF FFFFFFBF

Symbol: myPDB0_PDBIF
   Definitions
      At line 59 in file asmmain.s
   Uses
      At line 236 in file asmmain.s
Comment: myPDB0_PDBIF used once
myPDB0_PO0DLY 40036194

Symbol: myPDB0_PO0DLY
   Definitions
      At line 52 in file asmmain.s
   Uses
      At line 136 in file asmmain.s
Comment: myPDB0_PO0DLY used once
myPDB0_PO0DLYvalue 01001000

Symbol: myPDB0_PO0DLYvalue



ARM Macro Assembler    Page 5 Alphabetic symbol ordering
Absolute symbols

   Definitions
      At line 53 in file asmmain.s
   Uses
      At line 137 in file asmmain.s
Comment: myPDB0_PO0DLYvalue used once
myPDB0_POEN 40036190

Symbol: myPDB0_POEN
   Definitions
      At line 54 in file asmmain.s
   Uses
      At line 133 in file asmmain.s
Comment: myPDB0_POEN used once
myPDB0_POENvalue 00000001

Symbol: myPDB0_POENvalue
   Definitions
      At line 55 in file asmmain.s
   Uses
      At line 134 in file asmmain.s
Comment: myPDB0_POENvalue used once
myPDB0_SC 40036000

Symbol: myPDB0_SC
   Definitions
      At line 56 in file asmmain.s
   Uses
      At line 139 in file asmmain.s
      At line 159 in file asmmain.s
      At line 235 in file asmmain.s

myPDB0_SWTRG 00010000

Symbol: myPDB0_SWTRG
   Definitions
      At line 58 in file asmmain.s
   Uses
      At line 160 in file asmmain.s
Comment: myPDB0_SWTRG used once
myPDB0_Scvalue 00000F83

Symbol: myPDB0_Scvalue
   Definitions
      At line 57 in file asmmain.s
   Uses
      At line 140 in file asmmain.s
Comment: myPDB0_Scvalue used once
myPORTA_PCR7 4004901C

Symbol: myPORTA_PCR7
   Definitions
      At line 42 in file asmmain.s
   Uses
      At line 117 in file asmmain.s
Comment: myPORTA_PCR7 used once
myPORTA_PCR7value 00000000

Symbol: myPORTA_PCR7value
   Definitions



ARM Macro Assembler    Page 6 Alphabetic symbol ordering
Absolute symbols

      At line 43 in file asmmain.s
   Uses
      At line 118 in file asmmain.s
Comment: myPORTA_PCR7value used once
mySIM_SCGC2 4004802C

Symbol: mySIM_SCGC2
   Definitions
      At line 38 in file asmmain.s
   Uses
      At line 107 in file asmmain.s
Comment: mySIM_SCGC2 used once
mySIM_SCGC2value 00001000

Symbol: mySIM_SCGC2value
   Definitions
      At line 39 in file asmmain.s
   Uses
      At line 108 in file asmmain.s
Comment: mySIM_SCGC2value used once
mySIM_SCGC6value 08C00000

Symbol: mySIM_SCGC6value
   Definitions
      At line 33 in file asmmain.s
   Uses
      At line 85 in file asmmain.s
      At line 102 in file asmmain.s

mySIM_SOPT7 40048018

Symbol: mySIM_SOPT7
   Definitions
      At line 40 in file asmmain.s
   Uses
      At line 113 in file asmmain.s
Comment: mySIM_SOPT7 used once
mySIM_SOPT7value 00000000

Symbol: mySIM_SOPT7value
   Definitions
      At line 41 in file asmmain.s
   Uses
      At line 114 in file asmmain.s
Comment: mySIM_SOPT7value used once
my_GPIOC_PDDR 400FF094

Symbol: my_GPIOC_PDDR
   Definitions
      At line 20 in file asmmain.s
   Uses
      None
Comment: my_GPIOC_PDDR unused
my_GPIOC_PDDR_value 000007FF

Symbol: my_GPIOC_PDDR_value
   Definitions
      At line 21 in file asmmain.s
   Uses



ARM Macro Assembler    Page 7 Alphabetic symbol ordering
Absolute symbols

      None
Comment: my_GPIOC_PDDR_value unused
my_GPIOC_clken 00000800

Symbol: my_GPIOC_clken
   Definitions
      At line 15 in file asmmain.s
   Uses
      None
Comment: my_GPIOC_clken unused
my_LDVAL1_value 0000C350

Symbol: my_LDVAL1_value
   Definitions
      At line 27 in file asmmain.s
   Uses
      At line 93 in file asmmain.s
Comment: my_LDVAL1_value used once
my_NVIC_addr E000E100

Symbol: my_NVIC_addr
   Definitions
      At line 12 in file asmmain.s
   Uses
      At line 181 in file asmmain.s
Comment: my_NVIC_addr used once
my_NVIC_value 00000020

Symbol: my_NVIC_value
   Definitions
      At line 11 in file asmmain.s
   Uses
      At line 180 in file asmmain.s
Comment: my_NVIC_value used once
my_PIT_LDVAL1 40037110

Symbol: my_PIT_LDVAL1
   Definitions
      At line 26 in file asmmain.s
   Uses
      At line 92 in file asmmain.s
Comment: my_PIT_LDVAL1 used once
my_PIT_MCR 40037000

Symbol: my_PIT_MCR
   Definitions
      At line 30 in file asmmain.s
   Uses
      At line 89 in file asmmain.s
Comment: my_PIT_MCR used once
my_PIT_TCTRL1 40037118

Symbol: my_PIT_TCTRL1
   Definitions
      At line 28 in file asmmain.s
   Uses
      At line 95 in file asmmain.s
Comment: my_PIT_TCTRL1 used once
my_PIT_TFLG1 4003711C



ARM Macro Assembler    Page 8 Alphabetic symbol ordering
Absolute symbols


Symbol: my_PIT_TFLG1
   Definitions
      At line 29 in file asmmain.s
   Uses
      At line 307 in file asmmain.s
Comment: my_PIT_TFLG1 used once
my_PORTC_PCR0 4004B000

Symbol: my_PORTC_PCR0
   Definitions
      At line 17 in file asmmain.s
   Uses
      None
Comment: my_PORTC_PCR0 unused
my_PORTC_PCR_value 00000014

Symbol: my_PORTC_PCR_value
   Definitions
      At line 18 in file asmmain.s
   Uses
      None
Comment: my_PORTC_PCR_value unused
my_SIM_SCGC5 40048038

Symbol: my_SIM_SCGC5
   Definitions
      At line 14 in file asmmain.s
   Uses
      None
Comment: my_SIM_SCGC5 unused
my_SIM_SCGC6 4004803C

Symbol: my_SIM_SCGC6
   Definitions
      At line 23 in file asmmain.s
   Uses
      At line 84 in file asmmain.s
      At line 101 in file asmmain.s

ten 0000000A

Symbol: ten
   Definitions
      At line 78 in file asmmain.s
   Uses
      None
Comment: ten unused
vrange 0000014A

Symbol: vrange
   Definitions
      At line 76 in file asmmain.s
   Uses
      None
Comment: vrange unused
58 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
External symbols

LPTMR_DRV_SetTimerPeriodUs 00000000

Symbol: LPTMR_DRV_SetTimerPeriodUs
   Definitions
      At line 5 in file asmmain.s
   Uses
      None
Comment: LPTMR_DRV_SetTimerPeriodUs unused
LPTMR_DRV_Start 00000000

Symbol: LPTMR_DRV_Start
   Definitions
      At line 6 in file asmmain.s
   Uses
      None
Comment: LPTMR_DRV_Start unused
floatToBCD 00000000

Symbol: floatToBCD
   Definitions
      At line 8 in file asmmain.s
   Uses
      At line 298 in file asmmain.s
Comment: floatToBCD used once
ledToggle 00000000

Symbol: ledToggle
   Definitions
      At line 7 in file asmmain.s
   Uses
      At line 224 in file asmmain.s
Comment: ledToggle used once
4 symbols
429 symbols in table
